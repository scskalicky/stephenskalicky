<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Stephen Skalicky" />


<title>More with descriptives</title>

<script src="site_libs/header-attrs-2.26/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-M60CX325VZ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-M60CX325VZ');
</script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">SCS</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="academic-position.html">Academic Position</a>
</li>
<li>
  <a href="publications.html">Publications</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Tutorials and Extras
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="https://github.com/scskalicky/SNAP-CL">A gentle introduction to Python and NLTK</a>
    </li>
    <li>
      <a href="https://github.com/scskalicky/LexTALE_jsPsych">LexTALE working in JsPsych v7.+</a>
    </li>
    <li>
      <a href="https://github.com/scskalicky/zotero_tutorial/blob/main/zotero_and_Rstudio.md">Using Zotero in R Studio to Write Academic Papers</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    R Workshop Tutorials (from 2021)
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="getting-started.html">Getting Started with R</a>
    </li>
    <li>
      <a href="pipes-and-functions.html">01: Pipes and Functions</a>
    </li>
    <li>
      <a href="simulating-data.html">02: Simulating Data</a>
    </li>
    <li>
      <a href="descriptives-part-02.html">03: Descriptive and summary statistics</a>
    </li>
    <li>
      <a href="pivoting-data.html">04: Pivoting data wider and longer</a>
    </li>
    <li>
      <a href="joins.html">05: Using joins, basic plots</a>
    </li>
    <li>
      <a href="recreating-plot.html">06: Recreating a plot about metaphor</a>
    </li>
    <li>
      <a href="if-else-and-case-when.html">07: Comparing if_else() and case_when()</a>
    </li>
    <li>
      <a href="TJregex.html">08: Introduction to regular expressions</a>
    </li>
    <li>
      <a href="functions-part-01.html">09: Introduction to function building</a>
    </li>
    <li>
      <a href="plausibility-data.html">10: Plotting Plausibility</a>
    </li>
    <li>
      <a href="for-loops.html">11: For Loops</a>
    </li>
    <li>
      <a href="zed-scores.html">12: Zed scores</a>
    </li>
    <li>
      <a href="vst-cleaning.html">13: Data Cleaning VST Scores</a>
    </li>
    <li>
      <a href="dee-prime.html">14: Dprime and signal detection theory</a>
    </li>
    <li>
      <a href="nesbp.html">15: messing with prepositions</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="mailto:&lt;scskalicky@gmail.com&gt;">Email Me</a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">More with descriptives</h1>
<h4 class="author">Stephen Skalicky</h4>
<h4 class="date">31/03/2021</h4>

</div>


<div
id="goal-report-common-descriptive-statistics-such-as-mean-and-standard-deviation"
class="section level3">
<h3>Goal: report common descriptive statistics, such as mean and
standard deviation</h3>
<p>Let’s simulate similar data from last session.</p>
<p>You should:<br />
1. Open R-Studio<br />
2. Create a new project, give it a name, and save it somewhere easy to
find (File –&gt; New Project)<br />
3. Create a new R script (File –&gt; New File –&gt; New R Script<br />
4. Go through this handout and type in your code in the prompted
areas.<br />
</p>
</div>
<div id="part-1." class="section level3">
<h3>Part 1.</h3>
<p>Create a tibble named <code>base</code> with these columns:<br />
</p>
<ul>
<li><code>subject</code> which is the numbers 1 through 10</li>
<li><code>age</code> which is 10 random values from <code>rnorm()</code>
with a mean of 28 and sd of 5, using a <code>set.seed()</code> of
42</li>
</ul>
<p>Use the <code>tibble()</code> function. (you also need to load
<code>tidyverse</code>)</p>
<pre class="r"><code>library(tidyverse)</code></pre>
<pre class="r"><code>set.seed(42)
base &lt;- tibble(subject = 1:10, age = rnorm(10, 28, 5)) </code></pre>
<p>Your data in <code>base</code> should look like this</p>
<pre><code>## # A tibble: 10 × 2
##    subject   age
##      &lt;int&gt; &lt;dbl&gt;
##  1       1  34.9
##  2       2  25.2
##  3       3  29.8
##  4       4  31.2
##  5       5  30.0
##  6       6  27.5
##  7       7  35.6
##  8       8  27.5
##  9       9  38.1
## 10      10  27.7</code></pre>
<p>Create a new tibble named <code>base02</code> which is
<code>base</code> repeated twice (20 rows instead of 10).<br />
Use a single pipe with<code>rbind()</code>.</p>
<pre class="r"><code>base02 &lt;- base %&gt;%
  rbind(base)</code></pre>
<p>Run the <code>str()</code> function on <code>base02</code> and you
should see this:</p>
<pre class="r"><code>str(base02)</code></pre>
<pre><code>## tibble [20 × 2] (S3: tbl_df/tbl/data.frame)
##  $ subject: int [1:20] 1 2 3 4 5 6 7 8 9 10 ...
##  $ age    : num [1:20] 34.9 25.2 29.8 31.2 30 ...</code></pre>
<p>Create a tibble named <code>test.data</code> with these columns:</p>
<ul>
<li><code>test</code> which is the word ‘pre’ ten times followed by the
word ‘post’ ten times</li>
<li><code>score</code> which is 10 random values from
<code>rnorm()</code> with a mean of 50 and a sd of 10 followed by 10
more random values from <code>rnorm()</code> with a mean of 70 and an sd
of 5 using a <code>set.seed()</code> of 43<br />
</li>
<li>do this all in two lines: the first line for <code>set.seed()</code>
and then the second line making <code>test.data</code>.</li>
<li>You can use <code>c()</code> to chain multiple calls to
<code>rep()</code> and <code>rnorm()</code> in your
<code>tibble()</code> function.</li>
</ul>
<pre class="r"><code>set.seed(43)
test.data &lt;- tibble(test = c(rep(&#39;pre&#39;,10),rep(&#39;post&#39;, 10)), score = c(rnorm(10,50,10), rnorm(10,70,5)))</code></pre>
<p>Your version of <code>test.data</code> should look like this using
<code>str()</code></p>
<pre class="r"><code>str(test.data)</code></pre>
<pre><code>## tibble [20 × 2] (S3: tbl_df/tbl/data.frame)
##  $ test : chr [1:20] &quot;pre&quot; &quot;pre&quot; &quot;pre&quot; &quot;pre&quot; ...
##  $ score: num [1:20] 49.6 34.3 45.1 54.7 41 ...</code></pre>
</div>
<div id="part-2." class="section level3">
<h3>Part 2.</h3>
<p>Create a new tibble named <code>data</code> which is the result of
combining <code>base02</code> and <code>test.data</code>. Use the
<code>cbind()</code> function in a single pipe.</p>
<pre class="r"><code>data &lt;- base02 %&gt;%
  cbind(test.data)</code></pre>
<p>Your version of <code>data</code> should look like this using
<code>str()</code><br />
</p>
<pre class="r"><code>str(data)</code></pre>
<pre><code>## &#39;data.frame&#39;:    20 obs. of  4 variables:
##  $ subject: int  1 2 3 4 5 6 7 8 9 10 ...
##  $ age    : num  34.9 25.2 29.8 31.2 30 ...
##  $ test   : chr  &quot;pre&quot; &quot;pre&quot; &quot;pre&quot; &quot;pre&quot; ...
##  $ score  : num  49.6 34.3 45.1 54.7 41 ...</code></pre>
<p><strong>Q: Why did <code>data</code> turn into a data.frame when it
was made from joining two tibbles?</strong><br />
<br />
<br />
Create a summary of <code>data</code> using <code>summary()</code>:</p>
<pre class="r"><code>summary(data)</code></pre>
<pre><code>##     subject          age            test               score      
##  Min.   : 1.0   Min.   :25.18   Length:20          Min.   :30.94  
##  1st Qu.: 3.0   1st Qu.:27.53   Class :character   1st Qu.:46.70  
##  Median : 5.5   Median :29.92   Mode  :character   Median :58.20  
##  Mean   : 5.5   Mean   :30.74                      Mean   :58.34  
##  3rd Qu.: 8.0   3rd Qu.:34.85                      3rd Qu.:71.47  
##  Max.   :10.0   Max.   :38.09                      Max.   :80.32</code></pre>
</div>
<div id="part-3." class="section level3">
<h3>Part 3.</h3>
<div
id="now-that-we-have-our-data-we-want-to-generate-descriptive-statistics-mean-sd-etc-for-different-values."
class="section level4">
<h4>Now that we have our data, we want to generate descriptive
statistics (Mean, SD, etc) for different values.</h4>
<p>Recall from the summary of our data above, we have to be careful
about generating descriptive statistics</p>
<ul>
<li>Because our data is in long format, our <code>age</code> value is
doubled and would affect the standard deviation</li>
<li>we want mean and sd for test scores, but also split by test<br />
</li>
</ul>
</div>
</div>
<div id="using-filter-from-tidyverse" class="section level3">
<h3><strong>Using <code>filter()</code> from tidyverse</strong><br />
</h3>
<p>The <code>filter()</code> function will apply a <em>conditional
argument</em> to a specified column in a dataframe/tibble. It will do
this test for <em>each row</em> in the data.<br />
</p>
<p>Conditional arguments are written using symbols such as
<code>==</code>, <code>&lt;</code>, <code>&gt;</code>. See below for a
list:<br />
</p>
<table>
<tbody>
<tr class="odd">
<td><code>==</code></td>
<td>equals to</td>
</tr>
<tr class="even">
<td><code>!=</code></td>
<td>does not equal</td>
</tr>
<tr class="odd">
<td><code>&lt;</code></td>
<td>less than</td>
</tr>
<tr class="even">
<td><code>&lt;=</code></td>
<td>less than or equal to</td>
</tr>
<tr class="odd">
<td><code>&gt;</code></td>
<td>greater than</td>
</tr>
<tr class="even">
<td><code>&gt;=</code></td>
<td>greater than or equal to</td>
</tr>
</tbody>
</table>
<p><strong>Q: Why do we need to use <code>==</code> for
<code>equals to</code>?</strong><br />
<strong>Q: Which of these symbols can be used for numeric data? How
about text/string data?</strong></p>
<p>Try comparing ‘a’ and ‘b’ using <code>==</code>, <code>&lt;</code>,
and <code>!=</code>. Then do the same with <code>1</code> and
<code>2</code></p>
<pre class="r"><code>&#39;a&#39; == &#39;b&#39;</code></pre>
<pre><code>## [1] FALSE</code></pre>
<pre class="r"><code>&#39;a&#39; &lt; &#39;b&#39;</code></pre>
<pre><code>## [1] TRUE</code></pre>
<pre class="r"><code>&#39;a&#39; != &#39;b&#39;</code></pre>
<pre><code>## [1] TRUE</code></pre>
<pre class="r"><code>1 == 2</code></pre>
<pre><code>## [1] FALSE</code></pre>
<pre class="r"><code>1 &gt; 2</code></pre>
<pre><code>## [1] FALSE</code></pre>
<pre class="r"><code>1 != 2</code></pre>
<pre><code>## [1] TRUE</code></pre>
<p>This helps us understand how the <code>filter()</code> command works
- it will keep (or return) anything that results in <code>TRUE</code>
from the condition that you specify. Let’s try it out.</p>
<p>Run <code>filter()</code> on <code>data</code> to remove anyone older
than 30. The arguments for <code>filter</code> include the data object
your are filtering and the condition that you are specifying. (do not
save it to any object - just run the function)<br />
</p>
<p>How many subjects are equal to or younger than 30?</p>
<p>Your output should look like this:</p>
<pre class="r"><code>filter(data, age &lt;= 30)</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["subject"],"name":[1],"type":["int"],"align":["right"]},{"label":["age"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["test"],"name":[3],"type":["chr"],"align":["left"]},{"label":["score"],"name":[4],"type":["dbl"],"align":["right"]}],"data":[{"1":"2","2":"25.17651","3":"pre","4":"34.25396"},{"1":"3","2":"29.81564","3":"pre","4":"45.14032"},{"1":"6","2":"27.46938","3":"pre","4":"47.22567"},{"1":"8","2":"27.52670","3":"pre","4":"49.39596"},{"1":"10","2":"27.68643","3":"pre","4":"30.93863"},{"1":"2","2":"25.17651","3":"post","4":"65.16564"},{"1":"3","2":"29.81564","3":"post","4":"68.23441"},{"1":"6","2":"27.46938","3":"post","4":"80.32154"},{"1":"8","2":"27.52670","3":"post","4":"61.74250"},{"1":"10","2":"27.68643","3":"post","4":"66.39510"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>It should be simple for us to use this method to create two versions
of the data: one for the pre-test and one for the post-test.<br />
</p>
<p>Create a tibble named <code>pre.test</code> and a tibble named
<code>post.test</code>. For both, create a pipe from <code>data</code>
and use the <code>filter()</code> function to extract only pre-test or
only post-test data. Your condition will be applied to the
<code>test</code> column in <code>data</code>.</p>
<pre class="r"><code>pre.test &lt;- data %&gt;%
  filter(test == &#39;pre&#39;)

post.test &lt;- data %&gt;%
  filter(test == &#39;post&#39;)</code></pre>
<p>Your <code>pre.test</code> should look this this:</p>
<pre class="r"><code>pre.test</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["subject"],"name":[1],"type":["int"],"align":["right"]},{"label":["age"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["test"],"name":[3],"type":["chr"],"align":["left"]},{"label":["score"],"name":[4],"type":["dbl"],"align":["right"]}],"data":[{"1":"1","2":"34.85479","3":"pre","4":"49.62486"},{"1":"2","2":"25.17651","3":"pre","4":"34.25396"},{"1":"3","2":"29.81564","3":"pre","4":"45.14032"},{"1":"4","2":"31.16431","3":"pre","4":"54.65186"},{"1":"5","2":"30.02134","3":"pre","4":"40.95902"},{"1":"6","2":"27.46938","3":"pre","4":"47.22567"},{"1":"7","2":"35.55761","3":"pre","4":"53.86434"},{"1":"8","2":"27.52670","3":"pre","4":"49.39596"},{"1":"9","2":"38.09212","3":"pre","4":"43.13820"},{"1":"10","2":"27.68643","3":"pre","4":"30.93863"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Your <code>post.test</code> should look like this:</p>
<pre class="r"><code>post.test</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["subject"],"name":[1],"type":["int"],"align":["right"]},{"label":["age"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["test"],"name":[3],"type":["chr"],"align":["left"]},{"label":["score"],"name":[4],"type":["dbl"],"align":["right"]}],"data":[{"1":"1","2":"34.85479","3":"post","4":"79.01880"},{"1":"2","2":"25.17651","3":"post","4":"65.16564"},{"1":"3","2":"29.81564","3":"post","4":"68.23441"},{"1":"4","2":"31.16431","3":"post","4":"75.53469"},{"1":"5","2":"30.02134","3":"post","4":"72.83162"},{"1":"6","2":"27.46938","3":"post","4":"80.32154"},{"1":"7","2":"35.55761","3":"post","4":"77.34639"},{"1":"8","2":"27.52670","3":"post","4":"61.74250"},{"1":"9","2":"38.09212","3":"post","4":"71.01318"},{"1":"10","2":"27.68643","3":"post","4":"66.39510"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Great - now we can correctly generate summary statistics of our
data!</p>
<p>Create a tibble named <code>data.summary</code> with three
columns:<br />
</p>
<ul>
<li><code>test</code> which is the word “pre” followed by the word
“post”</li>
<li><code>mean</code> which is the mean of <code>score</code> for pre
and post</li>
<li><code>sd</code> which is the standard deviation of
<code>score</code> for pre and post</li>
</ul>
<p>You will need to use the <code>mean</code> and <code>sd</code>
function on <code>score</code> from our the <code>pre.test</code> and
<code>post.test</code> objects<br />
Try to do this without creating any other variables<br />
</p>
<pre class="r"><code>data.summary &lt;- tibble(test = c(&#39;Pre&#39;, &#39;Post&#39;), 
                       mean = c(mean(pre.test$score), mean(post.test$score)), 
                       sd = c(sd(pre.test$score), sd(post.test$score)))</code></pre>
<p>Your <code>data.summary</code> object should look like this<br />
</p>
<pre class="r"><code>data.summary</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["test"],"name":[1],"type":["chr"],"align":["left"]},{"label":["mean"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["sd"],"name":[3],"type":["dbl"],"align":["right"]}],"data":[{"1":"Pre","2":"44.91928","3":"7.819863"},{"1":"Post","2":"71.76039","3":"6.308726"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>We can also get a summary of our <code>age</code> variable using
either the <code>pre.test</code> or <code>post.test</code> objects
(because each of these objects only have one age value per
subject)<br />
</p>
<p>What is the <code>mean()</code> and <code>sd()</code> of
<code>age</code> in either <code>pre.test</code> or
<code>post.test</code> compared to <code>data</code>? The mean is not
affected but the standard deviation is, this is because part of the
formula to compute a standard deviation is to subtract 1 from the total
population (n)<br />
</p>
<p><code>sd()</code> thinks the total population of <code>data</code> is
20 because there are 20 rows. However our total population is only 10.
This is a reminder to always be careful about calculating summary
statistics of your data in all situations.</p>
<pre class="r"><code>mean(pre.test$age)</code></pre>
<pre><code>## [1] 30.73648</code></pre>
<pre class="r"><code>sd(pre.test$age)</code></pre>
<pre><code>## [1] 4.177244</code></pre>
<pre class="r"><code>mean(data$age)</code></pre>
<pre><code>## [1] 30.73648</code></pre>
<pre class="r"><code>sd(data$age)</code></pre>
<pre><code>## [1] 4.065831</code></pre>
</div>
<div id="using-group_by-and-summarise-to-do-the-same-thing"
class="section level3">
<h3><strong>Using <code>group_by()</code> and <code>summarise()</code>
to do the same thing</strong><br />
</h3>
<p>The above method works, but we can do better. Tidyverse includes the
<code>group_by()</code> function, which allows for any computations you
ask for to be conducted on a per-group basis. This is nice because we do
not need to create new objects using filter like we did above.<br />
</p>
<p>We can use <code>group_by()</code> on our <code>test</code> column to
ask R to compute the <code>mean</code> and <code>sd</code> of
<code>score</code> for each version of the test. To do so we will also
use the <code>summarise()</code> function. The <code>summarise()</code>
function is used to create <em>new</em> variables which are summaries of
larger data. It will return to results of a computation (such as
<code>mean</code>) and store it as a new variable. The power of this
method is that we can do this multiple times in one pipe to achieve a
data.frame/tibble which includes a summary of a larger data object, in a
similar manner to the <code>data.summary</code> object that we created
above.<br />
</p>
<p>As an example, look what happens when I run <code>summarise()</code>
to compute the <code>mean</code> and <code>sd</code> of <code>age</code>
in the <code>post.test</code> object.<br />
</p>
<p>Notice that I only ran the function without saving it to an object,
so this data was not saved anywhere. However, <em>within</em> the
<code>summarise()</code> call I made two new variables (columns) =
<code>mAge</code> and <code>sdAge</code> which were the result of
running <code>mean()</code> and <code>sd()</code> on <code>age</code> in
<code>post.test</code><br />
</p>
<pre class="r"><code>dplyr::summarise(post.test, mAge = mean(age), sdAge = sd(age))</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["mAge"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["sdAge"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"30.73648","2":"4.177244"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Let’s use <code>group_by()</code> and <code>summarise()</code> in a
pipe.</p>
<p>Create a new object named <code>data02</code> from the
<code>data</code> object.<br />
Then, with a pipe, use <code>group_by()</code> on
<code>test</code><br />
Then, with another pipe, use <code>summarise()</code> to create two new
variables: <code>mScore</code> and <code>sdScore</code> which are the
result of calling <code>mean()</code> and <code>sd()</code> on
<code>score</code></p>
<pre class="r"><code>data02 &lt;- data %&gt;%
  group_by(test) %&gt;%
  summarise(mScore = mean(score), sdScore = sd(score))</code></pre>
<p>Your <code>data02</code> object should look like this - and the
values here should be identical to those in
<code>data.summary</code></p>
<pre class="r"><code>print(data02)</code></pre>
<pre><code>## # A tibble: 2 × 3
##   test  mScore sdScore
##   &lt;chr&gt;  &lt;dbl&gt;   &lt;dbl&gt;
## 1 post    71.8    6.31
## 2 pre     44.9    7.82</code></pre>
<p>Hrmm, this still doesn’t solve our problem for <code>age</code> - we
don’t want to group by <code>age</code> or by <code>subject</code>. We
can use the <code>unique()</code> function to help with this. The
<code>unique()</code> function will return only unique rows from a
data.frame/tibble - in other words it removes any duplicate rows (but
only if the value for each column is the same.)<br />
</p>
<p>Let’s try it out - create a new object named <code>unique.age</code>
from the <code>data</code> object<br />
Then, make a pipe which uses the <code>select()</code> function to
select only <code>subject</code> and <code>age</code>
(<code>select()</code> is like <code>filter()</code>, but instead it
chooses entire columns and is not based on conditions but rather what
you ask for.)<br />
Then, make a second pipe which calls the function <code>unique()</code>
with no arguments.</p>
<pre class="r"><code>unique.age &lt;- data %&gt;%
  select(subject, age) %&gt;%
  unique()</code></pre>
<p>You should see a tibble with two columns, subject and age, such as
below<br />
Note that this only works because we filtered for unique values based on
combinations of both subjects <em>and</em> age<br />
We would never want to run <code>unique()</code> on just age because
that would delete any duplicate ages among our subjects.</p>
<pre class="r"><code>print(unique.age)</code></pre>
<pre><code>##    subject      age
## 1        1 34.85479
## 2        2 25.17651
## 3        3 29.81564
## 4        4 31.16431
## 5        5 30.02134
## 6        6 27.46938
## 7        7 35.55761
## 8        8 27.52670
## 9        9 38.09212
## 10      10 27.68643</code></pre>
<p>Now, extend <code>unique.age</code> with a final pipe calling
<code>summarise()</code> to generate the data we want (mean and
SD)<br />
Make an object named <code>unique.age</code> which is the same as the
above but includes a final pipe to <code>summarise()</code><br />
In the <code>summarise()</code> function, create <code>mAge</code> and
<code>sdAge</code> and apply the <code>mean()</code> and
<code>sd()</code> functions<br />
</p>
<pre class="r"><code>unique.age &lt;- data %&gt;%
  select(subject, age) %&gt;%
  unique() %&gt;%
  summarise(mAge = mean(age), sdAge = sd(age))</code></pre>
<p>You should now see this:<br />
</p>
<pre class="r"><code>print(unique.age)</code></pre>
<pre><code>##       mAge    sdAge
## 1 30.73648 4.177244</code></pre>
<p>If we wanted to, we could do all of this within one set of
pipes<br />
Can you create a new object named <code>final.data</code> from
<code>data</code> which includes the mean and sd for <code>score</code>
and <code>age</code> grouped by test?<br />
All you need to do is add more arguments to the <code>summarise()</code>
function we used when making <code>data02</code> - you don’t need to do
anything with <code>unique()</code></p>
<pre class="r"><code>final.data &lt;- data %&gt;%
  group_by(test) %&gt;%
  summarise(mScore = mean(score), sdScore = sd(score)) %&gt;%
  ungroup() %&gt;%
  cbind(unique.age)</code></pre>
<p>You would see something like this<br />
</p>
<pre class="r"><code>print(final.data)</code></pre>
<pre><code>##   test   mScore  sdScore     mAge    sdAge
## 1 post 71.76039 6.308726 30.73648 4.177244
## 2  pre 44.91928 7.819863 30.73648 4.177244</code></pre>
<p><strong>Q: Is there anything odd about how <code>age</code> has been
put into the data.frame? What caused this?</strong><br />
</p>
<p>Finally, while we <em>could</em> copy and paste from R, we could also
ask R to give us a spreadsheet with this information. The
<code>write_csv()</code> function is very handy for this. The arguments
for <code>write_csv()</code> include the name of the object you want to
write and the name you want the output to be.<br />
</p>
<ul>
<li>Write our final data to a .csv file - note that you will OVERWRITE
the file each time you run this, be careful :)</li>
<li>Also, be sure to add the file extension that you want, for example
if you do not type the .csv the file may look weird on your computer (or
it may not know how to open it properly)</li>
</ul>
<pre class="r"><code>write_csv(final.data, &#39;final-data.csv&#39;)</code></pre>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
